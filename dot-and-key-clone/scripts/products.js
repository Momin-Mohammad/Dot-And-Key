// let data=[{
//     img:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566`,
//     det:`20% Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Combination, Oily, Dry Skin | Women and Men`,
//     Mprice:`665.00`,
//     Dprice:`632.00`,
//     Limg:`https://cdn.shopify.com/s/files/1/0361/8553/8692/files/vit_c_desk.png?v=1652446234`,
//     ml:25,
//     ins:`The freshest, most potent Vitamin C serum in India made with pure L-Ascorbic Acid
//     Targets dark spots, dullness, hyperpigmentation and early signs of aging
//     Contains blood orange and ferulic acid to boost antioxidant action
//     Tried, tested and proven to deliver even-toned, firm and glowing skin
//     Lightweight, quick absorbing and fragrance free serum
//     Freshly made by you, for maximum efficacy and potency`,
//     simg2:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_360x.jpg?v=1650465564`,
//     simg3:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/3B_360x.jpg?v=1650465564`,
//     simg4:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/4_15_360x.jpg?v=1650465564`,
//     simg5:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/7_4_360x.jpg?v=1650465564`,
//     simg6:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/8_2_360x.jpg?v=1650465564`
// },
// {
//     img:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566`,
//     det:`20% Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Combination, Oily, Dry Skin | Women and Men`,
//     Mprice:`665.00`,
//     Dprice:`632.00`,
//     Limg:`https://cdn.shopify.com/s/files/1/0361/8553/8692/files/vit_c_desk.png?v=1652446234`,
//     ml:25,
//     ins:`The freshest, most potent Vitamin C serum in India made with pure L-Ascorbic Acid
//     Targets dark spots, dullness, hyperpigmentation and early signs of aging
//     Contains blood orange and ferulic acid to boost antioxidant action
//     Tried, tested and proven to deliver even-toned, firm and glowing skin
//     Lightweight, quick absorbing and fragrance free serum
//     Freshly made by you, for maximum efficacy and potency`,
//     simg2:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_360x.jpg?v=1650465564`,
//     simg3:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/3B_360x.jpg?v=1650465564`,
//     simg4:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/4_15_360x.jpg?v=1650465564`,
//     simg5:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/7_4_360x.jpg?v=1650465564`,
//     simg6:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/8_2_360x.jpg?v=1650465564`
// },
// {
//     img:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566`,
//     det:`20% Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Combination, Oily, Dry Skin | Women and Men`,
//     Mprice:`665.00`,
//     Dprice:`632.00`,
//     Limg:`https://cdn.shopify.com/s/files/1/0361/8553/8692/files/vit_c_desk.png?v=1652446234`,
//     ml:25,
//     ins:`The freshest, most potent Vitamin C serum in India made with pure L-Ascorbic Acid
//     Targets dark spots, dullness, hyperpigmentation and early signs of aging
//     Contains blood orange and ferulic acid to boost antioxidant action
//     Tried, tested and proven to deliver even-toned, firm and glowing skin
//     Lightweight, quick absorbing and fragrance free serum
//     Freshly made by you, for maximum efficacy and potency`,
//     simg2:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_360x.jpg?v=1650465564`,
//     simg3:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/3B_360x.jpg?v=1650465564`,
//     simg4:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/4_15_360x.jpg?v=1650465564`,
//     simg5:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/7_4_360x.jpg?v=1650465564`,
//     simg6:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/8_2_360x.jpg?v=1650465564`
// },
// {
//     img:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566`,
//     det:`20% Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Combination, Oily, Dry Skin | Women and Men`,
//     Mprice:`665.00`,
//     Dprice:`632.00`,
//     Limg:`https://cdn.shopify.com/s/files/1/0361/8553/8692/files/vit_c_desk.png?v=1652446234`,
//     ml:25,
//     ins:`The freshest, most potent Vitamin C serum in India made with pure L-Ascorbic Acid
//     Targets dark spots, dullness, hyperpigmentation and early signs of aging
//     Contains blood orange and ferulic acid to boost antioxidant action
//     Tried, tested and proven to deliver even-toned, firm and glowing skin
//     Lightweight, quick absorbing and fragrance free serum
//     Freshly made by you, for maximum efficacy and potency`,
//     simg2:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_360x.jpg?v=1650465564`,
//     simg3:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/3B_360x.jpg?v=1650465564`,
//     simg4:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/4_15_360x.jpg?v=1650465564`,
//     simg5:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/7_4_360x.jpg?v=1650465564`,
//     simg6:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/8_2_360x.jpg?v=1650465564`
// },
// {
//     img:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/Untitled-1_e13fe0e4-6313-45f1-b5f6-fe829a4c5dec_360x.jpg?v=1650465566`,
//     det:`20% Vitamin C Serum with Blood Orange | For Skin Glow | Fades Pigmentation & Dark Spots| Combination, Oily, Dry Skin | Women and Men`,
//     Mprice:`665.00`,
//     Dprice:`632.00`,
//     Limg:`https://cdn.shopify.com/s/files/1/0361/8553/8692/files/vit_c_desk.png?v=1652446234`,
//     ml:25,
//     ins:`The freshest, most potent Vitamin C serum in India made with pure L-Ascorbic Acid
//     Targets dark spots, dullness, hyperpigmentation and early signs of aging
//     Contains blood orange and ferulic acid to boost antioxidant action
//     Tried, tested and proven to deliver even-toned, firm and glowing skin
//     Lightweight, quick absorbing and fragrance free serum
//     Freshly made by you, for maximum efficacy and potency`,
//     simg2:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/2_360x.jpg?v=1650465564`,
//     simg3:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/3B_360x.jpg?v=1650465564`,
//     simg4:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/4_15_360x.jpg?v=1650465564`,
//     simg5:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/7_4_360x.jpg?v=1650465564`,
//     simg6:`https://cdn.shopify.com/s/files/1/0361/8553/8692/products/8_2_360x.jpg?v=1650465564`
// }]

import getData from "./alldata.js";
let data = JSON.parse(getData());

console.log(data)

let display=(data)=>{
    document.querySelector("#Rcontainer").innerHTML=null;
    data.forEach(el => {
        let parent=document.createElement("div");
        parent.setAttribute("class","parent");
        parent.addEventListener("click",function(){
            myproduct(el)
        })
        let img=document.createElement("img");
        img.src=el.img;
        img.onerror = ()=>{
            parent.style.display="none";
        }
        img.setAttribute("class","cimg")
        let det=document.createElement("p");
        det.innerText=el.det;
        det.setAttribute("class","det");
        let price=document.createElement("div")
        price.setAttribute("class","Rprice")
        let mprice=document.createElement("p");
        mprice.innerText="Rs: "+el.Mprice;
        mprice.setAttribute("class","mprice");
        let dprice=document.createElement("p");
        dprice.innerText="Rs: "+el.Dprice;
        dprice.setAttribute("class","dprice")
        let Rbtn=document.createElement("button");
        Rbtn.innerText=`ADD TO CART`;
        Rbtn.setAttribute("class","Rbtn");
        price.append(mprice,dprice)
        parent.append(img,det,price,Rbtn);
        document.querySelector("#Rcontainer").append(parent);
        })
       

        
  
}
display(data)
document.querySelector("#Rfilter").addEventListener("change",filter)
function filter(){
    let sel=document.querySelector("#Rfilter").value;
    if(sel=="")
    {
        display(data)
    }
    else
    {
    let filteredData=data.filter(function(el){
        return el.filter==sel;
    })
    display(filteredData)
    }
}
document.querySelector("#Rsort").addEventListener("change",sort)
function sort(){
    let sel=document.querySelector("#Rsort").value;
    if(sel=="price-ascending")
    {
        data.sort(function(a,b){
            return a.Dprice-b.Dprice;
        })
        display(data)
    }
    if(sel=="price-descending")
    {
        data.sort(function(a,b){
            return b.Dprice-a.Dprice
        })
        display(data)
    }
    if(sel=="title-ascending")
    {
         data.sort(function(a,b){
            if(a.det<b.det)
            {
                return -1;
            }
            if(b.name>a.name)
            {
                return 1;
            }
            return 0;
         })
         display(data)
    }
    if(sel=="title-descending")
    {
         data.sort(function(a,b){
            if(a.det>b.det)
            {
                return -1;
            }
            if(b.name<a.name)
            {
                return 1;
            }
            return 0;
         })
         display(data)
    }
    if(sel=="manual")
    {
        let featuredData=data.filter(function(el){
            return el.sort=="manual";
        })
        display(featuredData)
    }
    if(sel=="best-selling")
    {
        let bestData=data.filter(function(el){
            return el.sort=="best-selling";
        })
        display(bestData)
    }
}
function myproduct(el){
    console.log(el);
    localStorage.setItem("product",JSON.stringify(el));
    window.location.href="./solo.html"

}